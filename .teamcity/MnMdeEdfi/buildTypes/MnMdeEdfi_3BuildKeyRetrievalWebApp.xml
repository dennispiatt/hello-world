<?xml version="1.0" encoding="UTF-8"?>
<build-type xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" uuid="ec33c694-6b5e-4f6a-bd5f-2208dcfa3d0a" xsi:noNamespaceSchemaLocation="https://www.jetbrains.com/teamcity/schemas/2021.1/project-config.xsd">
  <name>3. Build Key Retrieval Web App</name>
  <description />
  <settings>
    <parameters>
      <param name="keyRetrieval.version" value="5.2.%build.counter%" />
    </parameters>
    <build-runners>
      <runner id="RUNNER_12" name="Build Key Retrieval Web Site" type="dotnet">
        <parameters>
          <param name="command" value="msbuild" />
          <param name="configuration" value="%buildConfiguration%" />
          <param name="dotNetCoverage.dotCover.home.path" value="%teamcity.tool.JetBrains.dotCover.CommandLineTools.DEFAULT%" />
          <param name="msbuild.version" value="MSBuild_CrossPlatform" />
          <param name="paths" value="Ed-Fi-ODS-Implementation\Application\EdFi.Ods.SecurityConfiguration.KeyRetrieval.sln" />
          <param name="runtime" value="win" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
      <runner id="RUNNER_13" name="Package Key Retrieval Site" type="jb.nuget.pack">
        <parameters>
          <param name="nuget.pack.as.artifact" value="true" />
          <param name="nuget.pack.output.clean" value="true" />
          <param name="nuget.pack.output.directory" value="packages" />
          <param name="nuget.pack.project.dir" value="as_is" />
          <param name="nuget.pack.properties" value="Configuration=%buildConfiguration%" />
          <param name="nuget.pack.specFile"><![CDATA[Ed-Fi-ODS-Implementation/Application/SecurityConfigurationTool
Ed-Fi-ODS-Implementation/Application/SecurityConfigurationTool/EdFi.Ods.SecurityConfiguration.KeyRetrieval.Web/EdFi.Ods.SecurityConfiguration.KeyRetrieval.Web.nuspec]]></param>
          <param name="nuget.pack.version" value="%keyRetrieval.version%" />
          <param name="nuget.path" value="%teamcity.tool.NuGet.CommandLine.DEFAULT%" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
      <runner id="RUNNER_14" name="Publish NuGet packages to Nexus" type="jb.nuget.publish">
        <parameters>
          <param name="nuget.path" value="%teamcity.tool.NuGet.CommandLine.DEFAULT%" />
          <param name="nuget.publish.files" value="packages\*.nupkg" />
          <param name="nuget.publish.source" value="%nexus.nuget.package.source%" />
          <param name="secure:nuget.api.key" value="credentialsJSON:b5e78adb-405c-481e-ab62-4af7b6635952" />
          <param name="teamcity.step.mode" value="default" />
        </parameters>
      </runner>
    </build-runners>
    <vcs-settings>
      <vcs-entry-ref root-id="MnMdeEdfi_EdFiOdsLegacy">
        <checkout-rule rule="+:. =&gt; Ed-Fi-ODS" />
      </vcs-entry-ref>
      <vcs-entry-ref root-id="MnMdeEdfi_LegacyEdFiOdsImplementation">
        <checkout-rule rule="+:. =&gt; Ed-Fi-ODS-Implementation" />
      </vcs-entry-ref>
    </vcs-settings>
    <requirements />
    <build-triggers />
    <cleanup />
  </settings>
</build-type>

